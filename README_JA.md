<img width="1913" height="1000" alt="スクリーンショット 2025-12-08 001448" src="https://github.com/user-attachments/assets/4c202b14-4e40-4988-9e35-5ed10831c15d" />

[ 🇺🇸 **English** ](README.md)

# Blender用 WuWa Character Setup

**WuWa Character Setup** は、モデルやシェーダーの設定を容易に設定するBlenderアドオンです。
鳴潮（Wuthering Waves）のキャラクターのUEmodelをBlenderにインポートし、シェーディングとリギングまでの全工程を自動化します。シェーディングの自動設定、Rigifyによるリギング、および顔の表情コントロールのセットアップ機能を提供します。

このアドオンはDiscord上のユーザーのAkatsukiにて開発され、当方がバージョン1.4からメンテナーに加わった関係上、初版からGithubにて公開を行っています。
シェーディングに利用されるシェーダーはJaredNytsが作成した[Wuthering Wavesモデルに最適化されたシェーダー](https://discord.com/channels/894925535870865498/1213552094678614038/1272958039221338114)となります。
リグとフェイスリグに利用されているスクリプトの源流はScheinzeが[作成したもの](https://discord.com/channels/894925535870865498/1320434868806615122/1320434868806615122)で、最終版から当方が最適化しています。
フェイスパネルで参照されるものはMicchiが[作成したもの](https://discord.com/channels/894925535870865498/1216442545782132746/1216442545782132746)です。

> [!IMPORTANT]
> `.uemodel` ファイルをインポートするには、通常 **UEFormat** アドオンが必要です。「モデルをインポート (Import Model)」機能を使用する場合は、事前にインストールされていることを確認してください。

## 機能

- **ワンクリックセットアップ (Run Entire Setup)**: インポートからリギングまでの全工程を自動化します。
- **モデルインポート**: UEFormatを使用し、自動的にボーンの向きを修正してインポートします。
- **シェーダーインポート**: マテリアルとテクスチャを自動的にセットアップします。
- **Rigify生成**: キャラクターに合わせて調整されたRigifyコントロールリグを生成します。
- **フェイスパネル**: 表情（赤面、嫌悪など）を操作するためのUIパネルとドライバーを作成します。
- **グローバルレンダリング設定**:
  - 様々なライトモードの切り替え
  - 環境光（Ambient）、ライト、影、リムカラーのカスタマイズ
  - 影の位置（Shadow Position）の調整
  - アウトラインの切り替えや、「スターモーション」、「髪の透過」などの特殊効果のトグル

## 動作環境

- **Blender**: バージョン 4.1 以降 (注意 : シェーダー自体がGoo Engineを必要としています。)
- **依存アドオン**: [UEFormat](https://github.com/h4lfheart/UEFormat) (`.uemodel` ファイルのインポートに必要)

## インストール方法

1. 最新のリリース `.zip` ファイルをダウンロードします。
2. Blenderを開きます。
3. **編集 (Edit) > プリファレンス (Preferences) > アドオン (Add-ons)** に移動します。
4. **インストール (Install...)** をクリックし、ダウンロードしたzipファイルを選択します。
5. リストに表示される **"WuWa Character Setup"** のチェックボックスをオンにして有効化します。

## 使い方

アドオンのパネルは、3Dビューポートのサイドバー（Nキーで表示）にある **Wuthering Waves** タブ内に表示されます。

### 基本的なワークフロー
1. **Import Model**: `.uemodel` キャラクターファイルを読み込みます。
2. **Import Shader**: メッシュを選択してシェーダーセットアップを実行します。
3. **Rigify**: コントロールリグを生成します。
4. **Face Panel**: 顔のドライバーとパネルをセットアップします。

*または、**Run Entire Setup** を使用して、これらのステップを一度に実行することも可能です。*

### グローバルプロパティ (Global Properties)
パネル内の設定でキャラクターの見た目を調整できます：
- **Light Mode**: ライティングの計算モードを変更します。
- **Colors**: キャラクターのシェーディングカラーをカスタマイズします。
- **Shadow Position**: 影の落ちる方向を回転させます。

## クレジット

- **作成者**: Akatsuki, fnoji

## 備考

英語圏のコミュニティサーバーOmatsuriで話題になっているアドオンとなりますが、当方がメンテナーとなったため日本語対応も可能です。
ただ、アドオン自体の日本語化対応は煩雑になるのと私があまり必要としていないため実施していません。

質問等があればGitHub上のissueまたは、Omatsuri内で英語で聞いてもらうか、以下へお問い合わせください。

- [Discord server](https://discord.gg/3p9cT4ajqy) / Hoyo Animation Creator [JP/EN]
- [Twitter / fnoji](https://twitter.com/fnoji) / [JP/EN]
